{
  "info": {
    "_postman_id": "12aa86a1-7e2f-4678-9b6f-ad19ffcd0d97",
    "name": "patrimonio",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "48156425",
    "_collection_link": "https://go.postman.co/collection/48156425-12aa86a1-7e2f-4678-9b6f-ad19ffcd0d97?source=collection_link"
  },
  "item": [
    {
      "name": "productEndpoints",
      "item": [
        {
          "name": "crud",
          "item": [
            {
              "name": "allProducts",
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "method": "GET",
                "header": [],
                "body": {
                  "mode": "graphql",
                  "graphql": {
                    "query": "",
                    "variables": ""
                  }
                },
                "url": {
                  "raw": "http://localhost:3000/api/products?page=1&limit=5",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "3000",
                  "path": [
                    "api",
                    "products"
                  ],
                  "query": [
                    {
                      "key": "page",
                      "value": "1"
                    },
                    {
                      "key": "limit",
                      "value": "5"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "productById",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:3000/api/products/104/",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "3000",
                  "path": [
                    "api",
                    "products",
                    "104",
                    ""
                  ]
                }
              },
              "response": []
            },
            {
              "name": "productsByDepartment",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "http://localhost:3000/api/products/by-department/C1?page=1&limit=10",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "3000",
                  "path": [
                    "api",
                    "products",
                    "by-department",
                    "C1"
                  ],
                  "query": [
                    {
                      "key": "page",
                      "value": "1"
                    },
                    {
                      "key": "limit",
                      "value": "10"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "newProduct",
              "request": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n    \"name\": \"Escritorio Melamina\",\r\n    \"description\": \"Escritorio de malamina con pasacables y cajones incorporados\",\r\n    \"productCode\": 305,\r\n    \"departmentCode\": \"C1\",\r\n    \"isMSM\": false,\r\n    \"category\": \"Mobiliario\",\r\n    \"physicalCondition\": \"Nuevo\",\r\n    \"registrationDate\": \"2024-06-15T09:00:00Z\"\r\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:3000/api/products/",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "3000",
                  "path": [
                    "api",
                    "products",
                    ""
                  ]
                }
              },
              "response": []
            },
            {
              "name": "updateProduct",
              "request": {
                "method": "PATCH",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n  \"observation\": \"Se perdieron las llaves de los cajones. Humedad en las patas\",\r\n  \"physicalCondition\": \"Malo\"\r\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:3000/api/products/301",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "3000",
                  "path": [
                    "api",
                    "products",
                    "301"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "product",
              "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "http://localhost:3000/api/products/2",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "3000",
                  "path": [
                    "api",
                    "products",
                    "2"
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "review",
          "item": [
            {
              "name": "sendToReview",
              "request": {
                "method": "PATCH",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n    \"pendingReviewReason\": \"Problemas de cortocircuito.\"\r\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:3000/api/products/104/review",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "3000",
                  "path": [
                    "api",
                    "products",
                    "104",
                    "review"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "approveReview",
              "request": {
                "method": "PATCH",
                "header": [],
                "url": {
                  "raw": "http://localhost:3000/api/products/103/approve",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "3000",
                  "path": [
                    "api",
                    "products",
                    "103",
                    "approve"
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "check",
          "item": [
            {
              "name": "checkProduct",
              "request": {
                "method": "PATCH",
                "header": [],
                "url": {
                  "raw": "http://localhost:3000/api/products/305/check",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "3000",
                  "path": [
                    "api",
                    "products",
                    "305",
                    "check"
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "transfer",
          "item": [
            {
              "name": "transferProduct",
              "request": {
                "method": "PATCH",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n    \"destinationDepartmentCode\": \"R1\",\r\n    \"reasonForMovement\": \"Préstamo temporal\",\r\n    \"transferDate\": \"2030-12-20\"\r\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:3000/api/products/104/transfer",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "3000",
                  "path": [
                    "api",
                    "products",
                    "104",
                    "transfer"
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "repair",
          "item": [
            {
              "name": "markProductAsUnusable",
              "request": {
                "method": "PATCH",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n    \"unusableReason\": \"El cuadro necesita un cambio de marco.\",\r\n    \"physicalCondition\": \"Bueno\"\r\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:3000/api/products/103/unusable",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "3000",
                  "path": [
                    "api",
                    "products",
                    "103",
                    "unusable"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "repairProduct",
              "request": {
                "method": "PATCH",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n    \"physicalCondition\": \"Nuevo\",\r\n    \"cost\": 20000.00,\r\n    \"repairDescription\": \"Cambio de marco completo.\",\r\n    \"repairDate\": \"2026-02-17\"\r\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:3000/api/products/104/repair",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "3000",
                  "path": [
                    "api",
                    "products",
                    "104",
                    "repair"
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "retire",
          "item": [
            {
              "name": "retireProduct",
              "request": {
                "method": "PATCH",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n    \"unusableReason\": \"Inestabilidad estructural que representa un riesgo\",\r\n    \"documentReference\": \"SMDE-471\",\r\n    \"retirementDate\": \"2028-10-15\"\r\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:3000/api/products/103/retire",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "3000",
                  "path": [
                    "api",
                    "products",
                    "103",
                    "retire"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "reactivateProduct",
              "request": {
                "method": "PATCH",
                "header": [],
                "url": {
                  "raw": "http://localhost:3000/api/products/301/reactivate",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "3000",
                  "path": [
                    "api",
                    "products",
                    "301",
                    "reactivate"
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "bulkEndpoints",
          "item": [
            {
              "name": "bulkPreview",
              "request": {
                "method": "PATCH",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n    \"productCodes\": [6,5,4,3,305]\r\n} ",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:3000/api/products/bulk-preview/unusable",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "3000",
                  "path": [
                    "api",
                    "products",
                    "bulk-preview",
                    "unusable"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "bulkCheck",
              "request": {
                "method": "PATCH",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n    \"productCodes\": [6,5,4,3,305]\r\n} ",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:3000/api/products/bulk-check",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "3000",
                  "path": [
                    "api",
                    "products",
                    "bulk-check"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "bulkTransfer",
              "request": {
                "method": "PATCH",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n    \"productCodes\": [6,5,4,3,305],\r\n    \"destinationDepartmentCode\": \"R1\",\r\n    \"reasonForMovement\": \"Préstamo temporal de bienes.\",\r\n    \"transferDate\": \"2031-01-15\"\r\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:3000/api/products/bulk-transfer",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "3000",
                  "path": [
                    "api",
                    "products",
                    "bulk-transfer"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "bulkUnusableToRepairTest",
              "request": {
                "method": "PATCH",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n    \"productCodes\": [102,101],\r\n    \"unusableReason\": \"Producto quemado tras cortes de luz.\",\r\n    \"physicalCondition\": \"Roto / Para baja\"\r\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:3000/api/products/bulk-unusable",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "3000",
                  "path": [
                    "api",
                    "products",
                    "bulk-unusable"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "bulkRepair",
              "request": {
                "method": "PATCH",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n    \"productCodes\": [102,101],\r\n    \"repairDescription\": \"Arreglo interno de equipo\",\r\n    \"physicalCondition\": \"Bueno\",\r\n    \"cost\": 100\r\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:3000/api/products/bulk-repair",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "3000",
                  "path": [
                    "api",
                    "products",
                    "bulk-repair"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "bulkUnusableToRetireTest",
              "request": {
                "method": "PATCH",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{ \"productCodes\": [6,5,4,3,305],\r\n \"unusableReason\": \"Inundación del departamento.\", \r\n \"physicalCondition\": \"Roto / Para baja\" }",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:3000/api/products/bulk-unusable",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "3000",
                  "path": [
                    "api",
                    "products",
                    "bulk-unusable"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "retire",
              "request": {
                "method": "PATCH",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n    \"productCodes\": [6,5,4,3,305],\r\n    \"unusableReason\": \"Pérdida de bienes tras inundación\",\r\n    \"documentReference\": \"H24-D481\"\r\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "http://localhost:3000/api/products/bulk-retire",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "3000",
                  "path": [
                    "api",
                    "products",
                    "bulk-retire"
                  ]
                }
              },
              "response": []
            }
          ]
        }
      ]
    },
    {
      "name": "departmentEndpoints",
      "item": [
        {
          "name": "allDepartments",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/api/departments/",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "api",
                "departments",
                ""
              ]
            }
          },
          "response": []
        },
        {
          "name": "departmentByCode",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/api/departments/R1",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "api",
                "departments",
                "R1"
              ]
            }
          },
          "response": []
        },
        {
          "name": "createDepartment",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"name\": \"Dirección de Deportes y Recreación\",\r\n    \"departmentCode\": \"R1\",\r\n    \"responsibleName\": \"Prof. Gustavo Acosta\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3000/api/departments/",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "api",
                "departments",
                ""
              ]
            }
          },
          "response": []
        },
        {
          "name": "updateDepartment",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"name\": \"Dirección de Deportes\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3000/api/departments/R1",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "api",
                "departments",
                "R1"
              ]
            }
          },
          "response": []
        },
        {
          "name": "department",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/api/departments/R1",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "api",
                "departments",
                "R1"
              ]
            }
          },
          "response": []
        },
        {
          "name": "disableDepartment",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/api/departments/R1/disable",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "api",
                "departments",
                "R1",
                "disable"
              ]
            }
          },
          "response": []
        },
        {
          "name": "enableDepartment",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/api/departments/R1/enable",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "api",
                "departments",
                "R1",
                "enable"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "userEndpoints",
      "item": [
        {
          "name": "users",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/api/users/",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "api",
                "users",
                ""
              ]
            }
          },
          "response": []
        },
        {
          "name": "myProfile",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/api/users/me",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "api",
                "users",
                "me"
              ]
            }
          },
          "response": []
        },
        {
          "name": "createUser",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"name\": \"Ruben\",\r\n    \"surname\": \"Meza\",\r\n    \"username\": \"rubenmeza\",\r\n    \"password\": \"rubenmeza\",\r\n    \"role\": \"Lector\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3000/api/users/",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "api",
                "users",
                ""
              ]
            }
          },
          "response": []
        },
        {
          "name": "updatePassword",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"oldPassword\": \"ricardogutierrez\",\r\n    \"newPassword\": \"admin123\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3000/api/users/change-password",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "api",
                "users",
                "change-password"
              ]
            }
          },
          "response": []
        },
        {
          "name": "updateMyUser",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"name\": \"Main\",\r\n    \"surname\": \"Admin\",\r\n    \"username\": \"admin\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3000/api/users/",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "api",
                "users",
                ""
              ]
            }
          },
          "response": []
        },
        {
          "name": "disableUser",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/api/users/rubenmeza/disable",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "api",
                "users",
                "rubenmeza",
                "disable"
              ]
            }
          },
          "response": []
        },
        {
          "name": "enableUser",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/api/users/rubenmeza/enable",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "api",
                "users",
                "rubenmeza",
                "enable"
              ]
            }
          },
          "response": []
        },
        {
          "name": "user",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/api/users/rubenmeza",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "api",
                "users",
                "rubenmeza"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "authEndpoints",
      "item": [
        {
          "name": "login",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"username\": \"admin\",\r\n    \"password\": \"admin123\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:3000/api/auth/login",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "api",
                "auth",
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "logout",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"username\": \"joaq\",\r\n    \"password\": \"davidlynch\"\r\n}"
            },
            "url": {
              "raw": "http://localhost:3000/api/auth/logout",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "api",
                "auth",
                "logout"
              ]
            }
          },
          "response": []
        },
        {
          "name": "refreshToken",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/api/auth/refresh",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "api",
                "auth",
                "refresh"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "historyEndpoints",
      "item": [
        {
          "name": "retirementHistory",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/api/retirement-history?page=1",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "api",
                "retirement-history"
              ],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "productMovementHistory",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/api/products/6/movement-history",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "api",
                "products",
                "6",
                "movement-history"
              ]
            }
          },
          "response": []
        },
        {
          "name": "productMaintenanceHistory",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/api/products/103/maintenance-history?page=1&limit=5",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3000",
              "path": [
                "api",
                "products",
                "103",
                "maintenance-history"
              ],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            }
          },
          "response": []
        }
      ]
    }
  ]
}